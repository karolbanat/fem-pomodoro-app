"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey(i.key),i)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var settingsButton=document.querySelector("#settings-button"),settingsModal=document.querySelector("#settings-modal"),closeModalButton=document.querySelector("#close-settings-modal-button"),settingsForm=settingsModal.querySelector("#settings-form"),pomodoroTimeInput=settingsForm.querySelector("#pomodoro-time"),shortBreakTimeInput=settingsForm.querySelector("#short-break-time"),longBreakTimeInput=settingsForm.querySelector("#long-break-time"),fontRadioButtons=Array.from(settingsForm.querySelectorAll('input[type="radio"][name="font"]')),colourRadioButtons=Array.from(settingsForm.querySelectorAll('input[type="radio"][name="colour"]')),settingsSubmit=settingsForm.querySelector('button[type="submit"]'),timer=document.querySelector(".timer"),timeProgressBar=timer.querySelector("#progress-bar"),timerTime=timer.querySelector("#timer-time"),timerButton=timer.querySelector("#timer-button"),timeStateButtons=Array.from(document.querySelectorAll(".state-button")),SECONDS_IN_MINUTE=60,DEFAULT_FONT="sans-serif",DEFAULT_COLOUR="red",DEFAULT_POMODORO_TIME=25,DEFAULT_SHORT_BREAK_TIME=5,DEFAULT_LONG_BREAK_TIME=15,AppTheme=_createClass(function t(){var o=this;_classCallCheck(this,t),this.colour=DEFAULT_COLOUR,this.font=DEFAULT_FONT,this.updateTheme=function(t,e){o.colour=e,o.font=t,document.body.dataset.font=t,document.body.dataset.theme=e}}),appTheme=new AppTheme,minutesToSeconds=function(t){return t*SECONDS_IN_MINUTE},getMinutesFromSeconds=function(t){return Math.floor(t/SECONDS_IN_MINUTE)},getRemainingSeconds=function(t){return t%SECONDS_IN_MINUTE},addLeadingZero=function(t){return t<10?"0".concat(t):t.toString()},formatTime=function(t){var e=getMinutesFromSeconds(t),t=getRemainingSeconds(t);return addLeadingZero(e)+":"+addLeadingZero(t)},PomodoroTimer=_createClass(function t(){var e=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;_classCallCheck(this,t),this.time=o,this.state="INITIAL",this.start=function(){e.state="COUNTING",e.count()},this.count=function(){e.countTimeout=setTimeout(function(){e.setTime(e.getTime()-1),e.count()},1e3)},this.pause=function(){e.state="PAUSED",clearTimeout(e.countTimeout)},this.restart=function(){e.state="INITIAL",e.countingTime=e.time,clearTimeout(e.countTimeout)},this.getTime=function(){return e.countingTime},this.setTime=function(t){e.time=t,e.countingTime=t,timerTime.innerText=formatTime(e.countingTime)},this.getState=function(){return e.state},this.setState=function(t){e.state=t},this.countingTime=o}),TimerController=_createClass(function t(e){var o=this;_classCallCheck(this,t),this.timer=e,this.timerAction=function(){switch(o.timer.getState()){case"INITIAL":case"PAUSED":o.timer.start(),timerButton.innerText="pause";break;case"COUNTING":o.timer.pause(),timerButton.innerText="start"}},this.restartTimer=function(){o.timer.restart(),timerButton.innerText="start"},this.setTime=function(t){o.timer.setTime(t)},timerButton.addEventListener("click",this.timerAction),timerTime.innerText=formatTime(this.timer.getTime())}),PomodoroApp=_createClass(function t(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:DEFAULT_POMODORO_TIME,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:DEFAULT_SHORT_BREAK_TIME,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:DEFAULT_LONG_BREAK_TIME;_classCallCheck(this,t),this.pomodoroTime=e,this.shortBreakTime=o,this.longBreakTime=n,this.appState="POMODORO",this.setTimes=function(t,e,o){i.pomodoroTime=t,i.shortBreakTime=e,i.longBreakTime=o},this.changeState=function(t){i.appState=t,i.timer.restartTimer(),i.setTimerBasedOnState()},this.setTimerBasedOnState=function(){switch(i.appState){case"POMODORO":i.timer.setTime(minutesToSeconds(i.pomodoroTime));break;case"SHORT_BREAK":i.timer.setTime(minutesToSeconds(i.shortBreakTime));break;case"LONG_BREAK":i.timer.setTime(minutesToSeconds(i.longBreakTime))}},this.timer=new TimerController(new PomodoroTimer(minutesToSeconds(this.pomodoroTime)))}),pomodoroApp=new PomodoroApp,openModal=function(){settingsModal.dataset.open="true"},closeModal=function(){settingsModal.dataset.open="false"},activateStateButton=function(t){timeStateButtons.forEach(function(t){return t.classList.remove("active")}),t.classList.add("active")};settingsSubmit.addEventListener("click",function(t){t.preventDefault();var t=Number(pomodoroTimeInput.value),e=Number(shortBreakTimeInput.value),o=Number(longBreakTimeInput.value),i=fontRadioButtons.find(function(t){return t.checked}).value,n=colourRadioButtons.find(function(t){return t.checked}).value;pomodoroApp.setTimes(t,e,o),appTheme.updateTheme(i,n),closeModal()}),settingsButton.addEventListener("click",function(){openModal()}),null!=closeModalButton&&closeModalButton.addEventListener("click",function(){closeModal()}),timeStateButtons.forEach(function(t){return t.addEventListener("click",function(t){var t=t.target,e=t.dataset.state.toUpperCase();activateStateButton(t),pomodoroApp.changeState(e)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4udHMiXSwibmFtZXMiOlsic2V0dGluZ3NCdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzZXR0aW5nc01vZGFsIiwiY2xvc2VNb2RhbEJ1dHRvbiIsInNldHRpbmdzRm9ybSIsInBvbW9kb3JvVGltZUlucHV0Iiwic2hvcnRCcmVha1RpbWVJbnB1dCIsImxvbmdCcmVha1RpbWVJbnB1dCIsImZvbnRSYWRpb0J1dHRvbnMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29sb3VyUmFkaW9CdXR0b25zIiwic2V0dGluZ3NTdWJtaXQiLCJ0aW1lciIsInRpbWVQcm9ncmVzc0JhciIsInRpbWVyVGltZSIsInRpbWVyQnV0dG9uIiwidGltZVN0YXRlQnV0dG9ucyIsIlNFQ09ORFNfSU5fTUlOVVRFIiwiREVGQVVMVF9GT05UIiwiREVGQVVMVF9DT0xPVVIiLCJERUZBVUxUX1BPTU9ET1JPX1RJTUUiLCJERUZBVUxUX1NIT1JUX0JSRUFLX1RJTUUiLCJERUZBVUxUX0xPTkdfQlJFQUtfVElNRSIsIkFwcFRoZW1lIiwiX2NyZWF0ZUNsYXNzIiwiX3RoaXMiLCJ0aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwiY29sb3VyIiwiZm9udCIsInVwZGF0ZVRoZW1lIiwiYm9keSIsImRhdGFzZXQiLCJ0aGVtZSIsImFwcFRoZW1lIiwibWludXRlc1RvU2Vjb25kcyIsIm1pbnV0ZXMiLCJnZXRNaW51dGVzRnJvbVNlY29uZHMiLCJzZWNvbmRzIiwiTWF0aCIsImZsb29yIiwiZ2V0UmVtYWluaW5nU2Vjb25kcyIsImFkZExlYWRpbmdaZXJvIiwidGltZSIsImNvbmNhdCIsInRvU3RyaW5nIiwiZm9ybWF0VGltZSIsInJlbWFpbmluZ1NlY29uZHMiLCJQb21vZG9yb1RpbWVyIiwiX3RoaXMyIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwic3RhdGUiLCJzdGFydCIsImNvdW50IiwiY291bnRUaW1lb3V0Iiwic2V0VGltZW91dCIsInNldFRpbWUiLCJnZXRUaW1lIiwicGF1c2UiLCJjbGVhclRpbWVvdXQiLCJyZXN0YXJ0IiwiY291bnRpbmdUaW1lIiwiaW5uZXJUZXh0IiwiZ2V0U3RhdGUiLCJzZXRTdGF0ZSIsIlRpbWVyQ29udHJvbGxlciIsIl90aGlzMyIsInRpbWVyQWN0aW9uIiwicmVzdGFydFRpbWVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlBvbW9kb3JvQXBwIiwiX3RoaXM0IiwicG9tb2Rvcm9UaW1lIiwic2hvcnRCcmVha1RpbWUiLCJsb25nQnJlYWtUaW1lIiwiYXBwU3RhdGUiLCJzZXRUaW1lcyIsInBvbW9kb3JvIiwic2hvcnRCcmVhayIsImxvbmdCcmVhayIsImNoYW5nZVN0YXRlIiwic2V0VGltZXJCYXNlZE9uU3RhdGUiLCJwb21vZG9yb0FwcCIsIm9wZW5Nb2RhbCIsIm9wZW4iLCJjbG9zZU1vZGFsIiwiYWN0aXZhdGVTdGF0ZUJ1dHRvbiIsImJ1dHRvbiIsImZvckVhY2giLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJlIiwicHJldmVudERlZmF1bHQiLCJOdW1iZXIiLCJ2YWx1ZSIsImNob3NlbkZvbnQiLCJmaW5kIiwiY2hlY2tlZCIsImNob3NlbkNvbG91ciIsInRhcmdldCIsInRvVXBwZXJDYXNlIl0sIm1hcHBpbmdzIjoiMmpDQUNBLElBQU1BLGVBQW9DQyxTQUFTQyxjQUFjLGtCQUFrQixFQUM3RUMsY0FBNkJGLFNBQVNDLGNBQWMsaUJBQWlCLEVBQ3JFRSxpQkFBc0NILFNBQVNDLGNBQWMsOEJBQThCLEVBRzNGRyxhQUFnQ0YsY0FBY0QsY0FBYyxnQkFBZ0IsRUFDNUVJLGtCQUFzQ0QsYUFBYUgsY0FBYyxnQkFBZ0IsRUFDakZLLG9CQUF3Q0YsYUFBYUgsY0FBYyxtQkFBbUIsRUFDdEZNLG1CQUF1Q0gsYUFBYUgsY0FBYyxrQkFBa0IsRUFDcEZPLGlCQUE0Q0MsTUFBTUMsS0FDdkROLGFBQWFPLGlCQUFpQixrQ0FBa0MsQ0FBQyxFQUU1REMsbUJBQThDSCxNQUFNQyxLQUN6RE4sYUFBYU8s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TyxDQUFBLEVBQUVILE1BQ25FSSxFQUF1QjNGLG1CQUFtQnlGLEtBQUssU0FBQVYsR0FBTSxPQUFJQSxFQUFPVyxPQUFPLENBQUEsRUFBRUgsTUFDL0ViLFlBQVlOLFNBQVNKLEVBQWNDLEVBQWdCQyxDQUFhLEVBQ2hFMUMsU0FBU0osWUFBWW9FLEVBQVlHLENBQVksRUFDN0NkLFdBQVUsQ0FDWCxDQUFDLEVBR0QxRixlQUFlMEUsaUJBQWlCLFFBQVMsV0FDeENjLFVBQVMsQ0FDVixDQUFDLEVBRURwRixNQUFBQSxrQkFBQUEsaUJBQWtCc0UsaUJBQWlCLFFBQVMsV0FDM0NnQixXQUFVLENBQ1gsQ0FBQyxFQUdEdkUsaUJBQWlCMEUsUUFBUSxTQUFBRCxHQUFNLE9BQzlCQSxFQUFPbEIsaUJBQWlCLFFBQVMsU0FBQ3VCLEdBQ2pDLElBQU1MLEVBQTRCSyxFQUFFUSxPQUM5QmpELEVBQTJCb0MsRUFBT3pELFFBQVFxQixNQUFNa0QsWUFBVyxFQUNqRWYsb0JBQW9CQyxDQUFNLEVBQzFCTCxZQUFZRixZQUFZN0IsQ0FBSyxDQUM5QixDQUFDLENBQUMsQ0FBQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIG1vZGFsIGFuZCBtb2RhbCByZWFsdGVkIGVsZW1lbnRzICovXHJcbmNvbnN0IHNldHRpbmdzQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZXR0aW5ncy1idXR0b24nKTtcclxuY29uc3Qgc2V0dGluZ3NNb2RhbDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2V0dGluZ3MtbW9kYWwnKTtcclxuY29uc3QgY2xvc2VNb2RhbEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvc2Utc2V0dGluZ3MtbW9kYWwtYnV0dG9uJyk7XHJcblxyXG4vKiBzZXR0aW5ncyBmb3JtIGVsZW1lbnRzICovXHJcbmNvbnN0IHNldHRpbmdzRm9ybTogSFRNTEZvcm1FbGVtZW50ID0gc2V0dGluZ3NNb2RhbC5xdWVyeVNlbGVjdG9yKCcjc2V0dGluZ3MtZm9ybScpO1xyXG5jb25zdCBwb21vZG9yb1RpbWVJbnB1dDogSFRNTElucHV0RWxlbWVudCA9IHNldHRpbmdzRm9ybS5xdWVyeVNlbGVjdG9yKCcjcG9tb2Rvcm8tdGltZScpO1xyXG5jb25zdCBzaG9ydEJyZWFrVGltZUlucHV0OiBIVE1MSW5wdXRFbGVtZW50ID0gc2V0dGluZ3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJyNzaG9ydC1icmVhay10aW1lJyk7XHJcbmNvbnN0IGxvbmdCcmVha1RpbWVJbnB1dDogSFRNTElucHV0RWxlbWVudCA9IHNldHRpbmdzRm9ybS5xdWVyeVNlbGVjdG9yKCcjbG9uZy1icmVhay10aW1lJyk7XHJcbmNvbnN0IGZvbnRSYWRpb0J1dHRvbnM6IEFycmF5PEhUTUxJbnB1dEVsZW1lbnQ+ID0gQXJyYXkuZnJvbShcclxuXHRzZXR0aW5nc0Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCJmb250XCJdJylcclxuKTtcclxuY29uc3QgY29sb3VyUmFkaW9CdXR0b25zOiBBcnJheTxIVE1MSW5wdXRFbGVtZW50PiA9IEFycmF5LmZyb20oXHJcblx0c2V0dGluZ3NGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXVtuYW1lPVwiY29sb3VyXCJdJylcclxuKTtcclxuY29uc3Qgc2V0dGluZ3NTdWJtaXQ6IEhUTUxCdXR0b25FbGVtZW50ID0gc2V0dGluZ3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XHJcblxyXG4vKiB0aW1lciBlbGVtZW50cyAqL1xyXG5jb25zdCB0aW1lcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGltZXInKTtcclxuY29uc3QgdGltZVByb2dyZXNzQmFyOiBIVE1MRWxlbWVudCA9IHRpbWVyLnF1ZXJ5U2VsZWN0b3IoJyNwcm9ncmVzcy1iYXInKTtcclxuY29uc3QgdGltZXJUaW1lOiBIVE1MRWxlbWVudCA9IHRpbWVyLnF1ZXJ5U2VsZWN0b3IoJyN0aW1lci10aW1lJyk7XHJcbmNvbnN0IHRpbWVyQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IHRpbWVyLnF1ZXJ5U2VsZWN0b3IoJyN0aW1lci1idXR0b24nKTtcclxuXHJcbi8qIHRpbWUgc3RhdGUgYnV0dG9ucyAqL1xyXG5jb25zdCB0aW1lU3RhdGVCdXR0b25zOiBBcnJheTxIVE1MQnV0dG9uRWxlbWVudD4gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGF0ZS1idXR0b24nKSk7XHJcblxyXG4vKiBjb25zdGFudHMgKi9cclxuLyogLS0tIGdlbmVyYWwgKi9cclxuY29uc3QgU0VDT05EU19JTl9NSU5VVEU6IG51bWJlciA9IDYwO1xyXG4vKiAtLS0gdGhlbWUgKi9cclxuY29uc3QgREVGQVVMVF9GT05UOiBGb250ID0gJ3NhbnMtc2VyaWYnO1xyXG5jb25zdCBERUZBVUxUX0NPTE9VUjogQ29sb3VyID0gJ3JlZCc7XHJcbi8qIC0tLSB0aW1lcyAqL1xyXG5jb25zdCBERUZBVUxUX1BPTU9ET1JPX1RJTUU6IG51bWJlciA9IDI1O1xyXG5jb25zdCBERUZBVUxUX1NIT1JUX0JSRUFLX1RJTUU6IG51bWJlciA9IDU7XHJcbmNvbnN0IERFRkFVTFRfTE9OR19CUkVBS19USU1FOiBudW1iZXIgPSAxNTtcclxuXHJcbi8qIHRoZW1lIHN0YXRlcyAqL1xyXG50eXBlIENvbG91ciA9ICdyZWQnIHwgJ2N5YW4nIHwgJ3Zpb2xldCc7XHJcbnR5cGUgRm9udCA9ICdzZXJpZicgfCAnc2Fucy1zZXJpZicgfCAnbW9ub3NwYWNlJztcclxuaW50ZXJmYWNlIFRoZW1lIHtcclxuXHRjb2xvdXI6IENvbG91cjtcclxuXHRmb250OiBGb250O1xyXG5cdHVwZGF0ZVRoZW1lOiAoZm9udDogRm9udCwgY29sb3VyOiBDb2xvdXIpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmNsYXNzIEFwcFRoZW1lIGltcGxlbWVudHMgVGhlbWUge1xyXG5cdGNvbG91cjogQ29sb3VyID0gREVGQVVMVF9DT0xPVVI7XHJcblx0Zm9udDogRm9udCA9IERFRkFVTFRfRk9OVDtcclxuXHJcblx0dXBkYXRlVGhlbWUgPSAoZm9udDogRm9udCwgY29sb3VyOiBDb2xvdXIpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuY29sb3VyID0gY29sb3VyO1xyXG5cdFx0dGhpcy5mb250ID0gZm9udDtcclxuXHRcdGRvY3VtZW50LmJvZHkuZGF0YXNldC5mb250ID0gZm9udDtcclxuXHRcdGRvY3VtZW50LmJvZHkuZGF0YXNldC50aGVtZSA9IGNvbG91cjtcclxuXHR9O1xyXG59XHJcblxyXG5jb25zdCBhcHBUaGVtZTogVGhlbWUgPSBuZXcgQXBwVGhlbWUoKTtcclxuXHJcbi8qIFRpbWVyIGZ1bmN0aW9uYWxpdHkgKi9cclxudHlwZSBUaW1lclN0YXRlID0gJ0lOSVRJQUwnIHwgJ0NPVU5USU5HJyB8ICdQQVVTRUQnIHwgJ0VORCc7XHJcblxyXG5jb25zdCBtaW51dGVzVG9TZWNvbmRzID0gKG1pbnV0ZXM6IG51bWJlcik6IG51bWJlciA9PiBtaW51dGVzICogU0VDT05EU19JTl9NSU5VVEU7XHJcblxyXG5jb25zdCBnZXRNaW51dGVzRnJvbVNlY29uZHMgPSAoc2Vjb25kczogbnVtYmVyKTogbnVtYmVyID0+IE1hdGguZmxvb3Ioc2Vjb25kcyAvIFNFQ09ORFNfSU5fTUlOVVRFKTtcclxuXHJcbmNvbnN0IGdldFJlbWFpbmluZ1NlY29uZHMgPSAoc2Vjb25kczogbnVtYmVyKTogbnVtYmVyID0+IHNlY29uZHMgJSBTRUNPTkRTX0lOX01JTlVURTtcclxuXHJcbmNvbnN0IGFkZExlYWRpbmdaZXJvID0gKHRpbWU6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcblx0cmV0dXJuIHRpbWUgPCAxMCA/IGAwJHt0aW1lfWAgOiB0aW1lLnRvU3RyaW5nKCk7XHJcbn07XHJcblxyXG5jb25zdCBmb3JtYXRUaW1lID0gKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcblx0Y29uc3QgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tU2Vjb25kcyhzZWNvbmRzKTtcclxuXHRjb25zdCByZW1haW5pbmdTZWNvbmRzID0gZ2V0UmVtYWluaW5nU2Vjb25kcyhzZWNvbmRzKTtcclxuXHRyZXR1cm4gYWRkTGVhZGluZ1plcm8obWludXRlcykgKyAnOicgKyBhZGRMZWFkaW5nWmVybyhyZW1haW5pbmdTZWNvbmRzKTtcclxufTtcclxuXHJcbmludGVyZmFjZSBUaW1lciB7XHJcblx0c3RhdGU6IFRpbWVyU3RhdGU7XHJcblx0c3RhcnQ6ICgpID0+IHZvaWQ7XHJcblx0cGF1c2U6ICgpID0+IHZvaWQ7XHJcblx0cmVzdGFydDogKCkgPT4gdm9pZDtcclxuXHRzZXRUaW1lOiAodGltZTogbnVtYmVyKSA9PiB2b2lkO1xyXG5cdGdldFRpbWU6ICgpID0+IG51bWJlcjtcclxuXHRnZXRTdGF0ZTogKCkgPT4gVGltZXJTdGF0ZTtcclxuXHRzZXRTdGF0ZTogKHN0YXRlOiBUaW1lclN0YXRlKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jbGFzcyBQb21vZG9yb1RpbWVyIGltcGxlbWVudHMgVGltZXIge1xyXG5cdGNvdW50VGltZW91dDogTm9kZUpTLlRpbWVvdXQ7XHJcblx0c3RhdGU6IFRpbWVyU3RhdGUgPSAnSU5JVElBTCc7XHJcblx0cHJpdmF0ZSBjb3VudGluZ1RpbWU6IG51bWJlcjtcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHRpbWU6IG51bWJlciA9IDApIHtcclxuXHRcdHRoaXMuY291bnRpbmdUaW1lID0gdGltZTtcclxuXHR9XHJcblxyXG5cdHN0YXJ0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5zdGF0ZSA9ICdDT1VOVElORyc7XHJcblx0XHR0aGlzLmNvdW50KCk7XHJcblx0fTtcclxuXHJcblx0Y291bnQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmNvdW50VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnNldFRpbWUodGhpcy5nZXRUaW1lKCkgLSAxKTtcclxuXHRcdFx0dGhpcy5jb3VudCgpO1xyXG5cdFx0fSwgMTAwMCk7XHJcblx0fTtcclxuXHJcblx0cGF1c2UgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnN0YXRlID0gJ1BBVVNFRCc7XHJcblx0XHRjbGVhclRpbWVvdXQodGhpcy5jb3VudFRpbWVvdXQpO1xyXG5cdH07XHJcblxyXG5cdHJlc3RhcnQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnN0YXRlID0gJ0lOSVRJQUwnO1xyXG5cdFx0dGhpcy5jb3VudGluZ1RpbWUgPSB0aGlzLnRpbWU7XHJcblx0XHRjbGVhclRpbWVvdXQodGhpcy5jb3VudFRpbWVvdXQpO1xyXG5cdH07XHJcblxyXG5cdGdldFRpbWUgPSAoKTogbnVtYmVyID0+IHRoaXMuY291bnRpbmdUaW1lO1xyXG5cclxuXHRzZXRUaW1lID0gKHRpbWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy50aW1lID0gdGltZTtcclxuXHRcdHRoaXMuY291bnRpbmdUaW1lID0gdGltZTtcclxuXHRcdHRpbWVyVGltZS5pbm5lclRleHQgPSBmb3JtYXRUaW1lKHRoaXMuY291bnRpbmdUaW1lKTtcclxuXHR9O1xyXG5cclxuXHRnZXRTdGF0ZSA9ICgpOiBUaW1lclN0YXRlID0+IHRoaXMuc3RhdGU7XHJcblxyXG5cdHNldFN0YXRlID0gKHN0YXRlOiBUaW1lclN0YXRlKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnN0YXRlID0gc3RhdGU7XHJcblx0fTtcclxufVxyXG5cclxuY2xhc3MgVGltZXJDb250cm9sbGVyIHtcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHRpbWVyOiBUaW1lcikge1xyXG5cdFx0dGltZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRpbWVyQWN0aW9uKTtcclxuXHRcdHRpbWVyVGltZS5pbm5lclRleHQgPSBmb3JtYXRUaW1lKHRoaXMudGltZXIuZ2V0VGltZSgpKTtcclxuXHR9XHJcblxyXG5cdHRpbWVyQWN0aW9uID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0c3dpdGNoICh0aGlzLnRpbWVyLmdldFN0YXRlKCkpIHtcclxuXHRcdFx0Y2FzZSAnSU5JVElBTCc6XHJcblx0XHRcdGNhc2UgJ1BBVVNFRCc6XHJcblx0XHRcdFx0dGhpcy50aW1lci5zdGFydCgpO1xyXG5cdFx0XHRcdHRpbWVyQnV0dG9uLmlubmVyVGV4dCA9ICdwYXVzZSc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ0NPVU5USU5HJzpcclxuXHRcdFx0XHR0aGlzLnRpbWVyLnBhdXNlKCk7XHJcblx0XHRcdFx0dGltZXJCdXR0b24uaW5uZXJUZXh0ID0gJ3N0YXJ0JztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRyZXN0YXJ0VGltZXIgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnRpbWVyLnJlc3RhcnQoKTtcclxuXHRcdHRpbWVyQnV0dG9uLmlubmVyVGV4dCA9ICdzdGFydCc7XHJcblx0fTtcclxuXHJcblx0c2V0VGltZSA9ICh0aW1lOiBudW1iZXIpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMudGltZXIuc2V0VGltZSh0aW1lKTtcclxuXHR9O1xyXG59XHJcbi8qIFRpbWVyIGZ1bmN0aW9uYWxpdHkgZW5kICovXHJcblxyXG4vKiBBcHAgKi9cclxudHlwZSBQb21vZG9yb0FwcFN0YXRlcyA9ICdQT01PRE9STycgfCAnU0hPUlRfQlJFQUsnIHwgJ0xPTkdfQlJFQUsnO1xyXG5jbGFzcyBQb21vZG9yb0FwcCB7XHJcblx0cHJpdmF0ZSB0aW1lcjogVGltZXJDb250cm9sbGVyO1xyXG5cdHByaXZhdGUgYXBwU3RhdGU6IFBvbW9kb3JvQXBwU3RhdGVzID0gJ1BPTU9ET1JPJztcclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRwcml2YXRlIHBvbW9kb3JvVGltZTogbnVtYmVyID0gREVGQVVMVF9QT01PRE9ST19USU1FLFxyXG5cdFx0cHJpdmF0ZSBzaG9ydEJyZWFrVGltZTogbnVtYmVyID0gREVGQVVMVF9TSE9SVF9CUkVBS19USU1FLFxyXG5cdFx0cHJpdmF0ZSBsb25nQnJlYWtUaW1lOiBudW1iZXIgPSBERUZBVUxUX0xPTkdfQlJFQUtfVElNRVxyXG5cdCkge1xyXG5cdFx0dGhpcy50aW1lciA9IG5ldyBUaW1lckNvbnRyb2xsZXIobmV3IFBvbW9kb3JvVGltZXIobWludXRlc1RvU2Vjb25kcyh0aGlzLnBvbW9kb3JvVGltZSkpKTtcclxuXHR9XHJcblxyXG5cdHNldFRpbWVzID0gKHBvbW9kb3JvOiBudW1iZXIsIHNob3J0QnJlYWs6IG51bWJlciwgbG9uZ0JyZWFrOiBudW1iZXIpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMucG9tb2Rvcm9UaW1lID0gcG9tb2Rvcm87XHJcblx0XHR0aGlzLnNob3J0QnJlYWtUaW1lID0gc2hvcnRCcmVhaztcclxuXHRcdHRoaXMubG9uZ0JyZWFrVGltZSA9IGxvbmdCcmVhaztcclxuXHR9O1xyXG5cclxuXHRjaGFuZ2VTdGF0ZSA9IChzdGF0ZTogUG9tb2Rvcm9BcHBTdGF0ZXMpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuYXBwU3RhdGUgPSBzdGF0ZTtcclxuXHRcdHRoaXMudGltZXIucmVzdGFydFRpbWVyKCk7XHJcblx0XHR0aGlzLnNldFRpbWVyQmFzZWRPblN0YXRlKCk7XHJcblx0fTtcclxuXHJcblx0c2V0VGltZXJCYXNlZE9uU3RhdGUgPSAoKTogdm9pZCA9PiB7XHJcblx0XHRzd2l0Y2ggKHRoaXMuYXBwU3RhdGUpIHtcclxuXHRcdFx0Y2FzZSAnUE9NT0RPUk8nOlxyXG5cdFx0XHRcdHRoaXMudGltZXIuc2V0VGltZShtaW51dGVzVG9TZWNvbmRzKHRoaXMucG9tb2Rvcm9UaW1lKSk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ1NIT1JUX0JSRUFLJzpcclxuXHRcdFx0XHR0aGlzLnRpbWVyLnNldFRpbWUobWludXRlc1RvU2Vjb25kcyh0aGlzLnNob3J0QnJlYWtUaW1lKSk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ0xPTkdfQlJFQUsnOlxyXG5cdFx0XHRcdHRoaXMudGltZXIuc2V0VGltZShtaW51dGVzVG9TZWNvbmRzKHRoaXMubG9uZ0JyZWFrVGltZSkpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuY29uc3QgcG9tb2Rvcm9BcHA6IFBvbW9kb3JvQXBwID0gbmV3IFBvbW9kb3JvQXBwKCk7XHJcblxyXG4vKiBtb2RhbCBmdW5jdGlvbnMgKi9cclxuY29uc3Qgb3Blbk1vZGFsID0gKCkgPT4ge1xyXG5cdHNldHRpbmdzTW9kYWwuZGF0YXNldC5vcGVuID0gJ3RydWUnO1xyXG59O1xyXG5cclxuY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IHtcclxuXHRzZXR0aW5nc01vZGFsLmRhdGFzZXQub3BlbiA9ICdmYWxzZSc7XHJcbn07XHJcblxyXG4vKiBhcHAgdGltZSBzdGF0ZSBidXR0b25zIGZ1bmN0aW9ucyAqL1xyXG5jb25zdCBhY3RpdmF0ZVN0YXRlQnV0dG9uID0gKGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQpID0+IHtcclxuXHR0aW1lU3RhdGVCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XHJcblx0YnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG59O1xyXG5cclxuc2V0dGluZ3NTdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZTogRXZlbnQpID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0Y29uc3QgcG9tb2Rvcm9UaW1lID0gTnVtYmVyKHBvbW9kb3JvVGltZUlucHV0LnZhbHVlKTtcclxuXHRjb25zdCBzaG9ydEJyZWFrVGltZSA9IE51bWJlcihzaG9ydEJyZWFrVGltZUlucHV0LnZhbHVlKTtcclxuXHRjb25zdCBsb25nQnJlYWtUaW1lID0gTnVtYmVyKGxvbmdCcmVha1RpbWVJbnB1dC52YWx1ZSk7XHJcblx0Y29uc3QgY2hvc2VuRm9udDogRm9udCA9IGZvbnRSYWRpb0J1dHRvbnMuZmluZChidXR0b24gPT4gYnV0dG9uLmNoZWNrZWQpLnZhbHVlIGFzIEZvbnQ7XHJcblx0Y29uc3QgY2hvc2VuQ29sb3VyOiBDb2xvdXIgPSBjb2xvdXJSYWRpb0J1dHRvbnMuZmluZChidXR0b24gPT4gYnV0dG9uLmNoZWNrZWQpLnZhbHVlIGFzIENvbG91cjtcclxuXHRwb21vZG9yb0FwcC5zZXRUaW1lcyhwb21vZG9yb1RpbWUsIHNob3J0QnJlYWtUaW1lLCBsb25nQnJlYWtUaW1lKTtcclxuXHRhcHBUaGVtZS51cGRhdGVUaGVtZShjaG9zZW5Gb250LCBjaG9zZW5Db2xvdXIpO1xyXG5cdGNsb3NlTW9kYWwoKTtcclxufSk7XHJcblxyXG4vKiBtb2RhbCBvcGVuaW5nIGFuZCBjbG9zaW5nICovXHJcbnNldHRpbmdzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdG9wZW5Nb2RhbCgpO1xyXG59KTtcclxuXHJcbmNsb3NlTW9kYWxCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdGNsb3NlTW9kYWwoKTtcclxufSk7XHJcbi8qIG1vZGFsIG9wZW5pbmcgYW5kIGNsb3NpbmcgZW5kICovXHJcblxyXG50aW1lU3RhdGVCdXR0b25zLmZvckVhY2goYnV0dG9uID0+XHJcblx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6IEV2ZW50KSA9PiB7XHJcblx0XHRjb25zdCBidXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZS50YXJnZXQgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0XHRjb25zdCBzdGF0ZTogUG9tb2Rvcm9BcHBTdGF0ZXMgPSBidXR0b24uZGF0YXNldC5zdGF0ZS50b1VwcGVyQ2FzZSgpIGFzIFBvbW9kb3JvQXBwU3RhdGVzO1xyXG5cdFx0YWN0aXZhdGVTdGF0ZUJ1dHRvbihidXR0b24pO1xyXG5cdFx0cG9tb2Rvcm9BcHAuY2hhbmdlU3RhdGUoc3RhdGUpO1xyXG5cdH0pXHJcbik7XHJcbiJdfQ==
