"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey(i.key),i)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var settingsButton=document.querySelector("#settings-button"),settingsModal=document.querySelector("#settings-modal"),closeModalButton=document.querySelector("#close-settings-modal-button"),settingsForm=settingsModal.querySelector("#settings-form"),pomodoroTimeInput=settingsForm.querySelector("#pomodoro-time"),shortBreakTimeInput=settingsForm.querySelector("#short-break-time"),longBreakTimeInput=settingsForm.querySelector("#long-break-time"),fontRadioButtons=Array.from(settingsForm.querySelectorAll('input[type="radio"][name="font"]')),colourRadioButtons=Array.from(settingsForm.querySelectorAll('input[type="radio"][name="colour"]')),settingsSubmit=settingsForm.querySelector('button[type="submit"]'),timer=document.querySelector(".timer"),timeProgressBar=timer.querySelector("#progress-bar"),timerTime=timer.querySelector("#timer-time"),timerButton=timer.querySelector("#timer-button"),DEFAULT_FONT="sans-serif",DEFAULT_COLOUR="red",AppTheme=_createClass(function t(){var o=this;_classCallCheck(this,t),this.colour=DEFAULT_COLOUR,this.font=DEFAULT_FONT,this.updateTheme=function(t,e){o.colour=e,o.font=t,document.body.dataset.font=t,document.body.dataset.theme=e}}),appTheme=new AppTheme,minutesToSeconds=function(t){return 60*t},getMinutesFromSeconds=function(t){return Math.floor(t/60)},getRemainingSeconds=function(t){return t%60},addLeadingZero=function(t){return t<10?"0".concat(t):t.toString()},formatTime=function(t){var e=getMinutesFromSeconds(t),t=getRemainingSeconds(t);return addLeadingZero(e)+":"+addLeadingZero(t)},PomodoroTimer=_createClass(function t(){var e=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;_classCallCheck(this,t),this.time=o,this.state="INITIAL",this.start=function(){e.state="COUNTING"},this.pause=function(){e.state="PAUSED"},this.restart=function(){e.state="INITIAL",e.countingTime=e.time},this.getTime=function(){return e.countingTime},this.setTime=function(t){e.time=t,e.countingTime=t},this.getState=function(){return e.state},this.setState=function(t){e.state=t},this.countingTime=o}),TimerController=_createClass(function t(e){var o=this;_classCallCheck(this,t),this.timer=e,this.timerAction=function(){switch(o.timer.getState()){case"INITIAL":case"PAUSED":o.timer.start(),o.count(),timerButton.innerText="pause";break;case"COUNTING":o.timer.pause(),clearTimeout(o.countTimeout),timerButton.innerText="start"}},this.count=function(){o.countTimeout=setTimeout(function(){o.setTime(o.timer.getTime()-1),o.count()},1e3)},this.setTime=function(t){o.timer.setTime(t),timerTime.innerText=formatTime(o.timer.getTime())},timerButton.addEventListener("click",this.timerAction),timerTime.innerText=formatTime(this.timer.getTime())}),PomodoroApp=_createClass(function t(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:25,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:5,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:15;_classCallCheck(this,t),this.pomodoroTime=e,this.shortBreakTime=o,this.longBreakTime=n,this.setTimes=function(t,e,o){i.pomodoroTime=t,i.shortBreakTime=e,i.longBreakTime=o},this.timer=new TimerController(new PomodoroTimer(minutesToSeconds(this.pomodoroTime)))}),pomodoroApp=new PomodoroApp,openModal=function(){settingsModal.dataset.open="true"},closeModal=function(){settingsModal.dataset.open="false"};settingsSubmit.addEventListener("click",function(t){t.preventDefault();var t=Number(pomodoroTimeInput.value),e=Number(shortBreakTimeInput.value),o=Number(longBreakTimeInput.value),i=fontRadioButtons.find(function(t){return t.checked}).value,n=colourRadioButtons.find(function(t){return t.checked}).value;pomodoroApp.setTimes(t,e,o),appTheme.updateTheme(i,n),closeModal()}),settingsButton.addEventListener("click",function(){openModal()}),null!=closeModalButton&&closeModalButton.addEventListener("click",function(){closeModal()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4udHMiXSwibmFtZXMiOlsic2V0dGluZ3NCdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzZXR0aW5nc01vZGFsIiwiY2xvc2VNb2RhbEJ1dHRvbiIsInNldHRpbmdzRm9ybSIsInBvbW9kb3JvVGltZUlucHV0Iiwic2hvcnRCcmVha1RpbWVJbnB1dCIsImxvbmdCcmVha1RpbWVJbnB1dCIsImZvbnRSYWRpb0J1dHRvbnMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29sb3VyUmFkaW9CdXR0b25zIiwic2V0dGluZ3NTdWJtaXQiLCJ0aW1lciIsInRpbWVQcm9ncmVzc0JhciIsInRpbWVyVGltZSIsInRpbWVyQnV0dG9uIiwiREVGQVVMVF9GT05UIiwiREVGQVVMVF9DT0xPVVIiLCJBcHBUaGVtZSIsIl9jcmVhdGVDbGFzcyIsIl90aGlzIiwidGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsImNvbG91ciIsImZvbnQiLCJ1cGRhdGVUaGVtZSIsImJvZHkiLCJkYXRhc2V0IiwidGhlbWUiLCJhcHBUaGVtZSIsIm1pbnV0ZXNUb1NlY29uZHMiLCJtaW51dGVzIiwiZ2V0TWludXRlc0Zyb21TZWNvbmRzIiwic2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsImdldFJlbWFpbmluZ1NlY29uZHMiLCJhZGRMZWFkaW5nWmVybyIsInRpbWUiLCJjb25jYXQiLCJ0b1N0cmluZyIsImZvcm1hdFRpbWUiLCJyZW1haW5pbmdTZWNvbmRzIiwiUG9tb2Rvcm9UaW1lciIsIl90aGlzMiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInN0YXRlIiwic3RhcnQiLCJwYXVzZSIsInJlc3RhcnQiLCJjb3VudGluZ1RpbWUiLCJnZXRUaW1lIiwic2V0VGltZSIsImdldFN0YXRlIiwic2V0U3RhdGUiLCJUaW1lckNvbnRyb2xsZXIiLCJfdGhpczMiLCJ0aW1lckFjdGlvbiIsImNvdW50IiwiaW5uZXJUZXh0IiwiY2xlYXJUaW1lb3V0IiwiY291bnRUaW1lb3V0Iiwic2V0VGltZW91dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJQb21vZG9yb0FwcCIsIl90aGlzNCIsInBvbW9kb3JvVGltZSIsInNob3J0QnJlYWtUaW1lIiwibG9uZ0JyZWFrVGltZSIsInNldFRpbWVzIiwicG9tb2Rvcm8iLCJzaG9ydEJyZWFrIiwibG9uZ0JyZWFrIiwicG9tb2Rvcm9BcHAiLCJvcGVuTW9kYWwiLCJvcGVuIiwiY2xvc2VNb2RhbCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIk51bWJlciIsInZhbHVlIiwiY2hvc2VuRm9udCIsImZpbmQiLCJidXR0b24iLCJjaGVja2VkIiwiY2hvc2VuQ29sb3VyIl0sIm1hcHBpbmdzIjoiMmpDQUNBLElBQU1BLGVBQW9DQyxTQUFTQyxjQUFjLGtCQUFrQixFQUM3RUMsY0FBNkJGLFNBQVNDLGNBQWMsaUJBQWlCLEVBQ3JFRSxpQkFBc0NILFNBQVNDLGNBQWMsOEJBQThCLEVBRzNGRyxhQUFnQ0YsY0FBY0QsY0FBYyxnQkFBZ0IsRUFDNUVJLGtCQUFzQ0QsYUFBYUgsY0FBYyxnQkFBZ0IsRUFDakZLLG9CQUF3Q0YsYUFBYUgsY0FBYyxtQkFBbUIsRUFDdEZNLG1CQUF1Q0gsYUFBYUgsY0FBYyxrQkFBa0IsRUFDcEZPLGlCQUE0Q0MsTUFBTUMsS0FDdkROLGFBQWFPLGlCQUFpQixrQ0FBa0MsQ0FBQyxFQUU1REMsbUJBQThDSCxNQUFNQyxLQUN6RE4sYUFBYU8saUJBQWlCLG9DQUFvQyxDQUFDLEVBRTlERSxlQUFvQ1QsYUFBYUgsY0FBYyx1QkFBdUIsRUFHdEZhLE1BQXFCZCxTQUFTQyxjQUFjLFFBQVEsRUFDcERjLGdCQUErQkQsTUFBTWIsY0FBYyxlQUFlLEVBQ2xFZSxVQUF5QkYsTUFBTWIsY0FBYyxhQUFhLEVBQzFEZ0IsWUFBaUNILE1BQU1iLGNBQWMsZUFBZSxFQUdwRWlCLGFBQXFCLGFBQ3JCQyxlQUF5QixNQVd6QkMsU0FBUUMsYUFBZCxTQUFBRCxJQUFBLElBQUFFLEVBQUFDLEtBQUFDLGdCQUFBRCxLQUFBSCxD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QUFPLENBQUEsRUFBRUosTUFDL0VQLFlBQVlKLFNBQVNILEVBQWNDLEVBQWdCQyxDQUFhLEVBQ2hFekMsU0FBU0osWUFBWTBELEVBQVlJLENBQVksRUFDN0NULFdBQVUsQ0FDWCxDQUFDLEVBR0RqRixlQUFlb0UsaUJBQWlCLFFBQVMsV0FDeENXLFVBQVMsQ0FDVixDQUFDLEVBRUQzRSxNQUFBQSxrQkFBQUEsaUJBQWtCZ0UsaUJBQWlCLFFBQVMsV0FDM0NhLFdBQVUsQ0FDWCxDQUFDIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogbW9kYWwgYW5kIG1vZGFsIHJlYWx0ZWQgZWxlbWVudHMgKi9cclxuY29uc3Qgc2V0dGluZ3NCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NldHRpbmdzLWJ1dHRvbicpO1xyXG5jb25zdCBzZXR0aW5nc01vZGFsOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZXR0aW5ncy1tb2RhbCcpO1xyXG5jb25zdCBjbG9zZU1vZGFsQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbG9zZS1zZXR0aW5ncy1tb2RhbC1idXR0b24nKTtcclxuXHJcbi8qIHNldHRpbmdzIGZvcm0gZWxlbWVudHMgKi9cclxuY29uc3Qgc2V0dGluZ3NGb3JtOiBIVE1MRm9ybUVsZW1lbnQgPSBzZXR0aW5nc01vZGFsLnF1ZXJ5U2VsZWN0b3IoJyNzZXR0aW5ncy1mb3JtJyk7XHJcbmNvbnN0IHBvbW9kb3JvVGltZUlucHV0OiBIVE1MSW5wdXRFbGVtZW50ID0gc2V0dGluZ3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJyNwb21vZG9yby10aW1lJyk7XHJcbmNvbnN0IHNob3J0QnJlYWtUaW1lSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBzZXR0aW5nc0Zvcm0ucXVlcnlTZWxlY3RvcignI3Nob3J0LWJyZWFrLXRpbWUnKTtcclxuY29uc3QgbG9uZ0JyZWFrVGltZUlucHV0OiBIVE1MSW5wdXRFbGVtZW50ID0gc2V0dGluZ3NGb3JtLnF1ZXJ5U2VsZWN0b3IoJyNsb25nLWJyZWFrLXRpbWUnKTtcclxuY29uc3QgZm9udFJhZGlvQnV0dG9uczogQXJyYXk8SFRNTElucHV0RWxlbWVudD4gPSBBcnJheS5mcm9tKFxyXG5cdHNldHRpbmdzRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl1bbmFtZT1cImZvbnRcIl0nKVxyXG4pO1xyXG5jb25zdCBjb2xvdXJSYWRpb0J1dHRvbnM6IEFycmF5PEhUTUxJbnB1dEVsZW1lbnQ+ID0gQXJyYXkuZnJvbShcclxuXHRzZXR0aW5nc0Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCJjb2xvdXJcIl0nKVxyXG4pO1xyXG5jb25zdCBzZXR0aW5nc1N1Ym1pdDogSFRNTEJ1dHRvbkVsZW1lbnQgPSBzZXR0aW5nc0Zvcm0ucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcclxuXHJcbi8qIHRpbWVyIGVsZW1lbnRzICovXHJcbmNvbnN0IHRpbWVyOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aW1lcicpO1xyXG5jb25zdCB0aW1lUHJvZ3Jlc3NCYXI6IEhUTUxFbGVtZW50ID0gdGltZXIucXVlcnlTZWxlY3RvcignI3Byb2dyZXNzLWJhcicpO1xyXG5jb25zdCB0aW1lclRpbWU6IEhUTUxFbGVtZW50ID0gdGltZXIucXVlcnlTZWxlY3RvcignI3RpbWVyLXRpbWUnKTtcclxuY29uc3QgdGltZXJCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gdGltZXIucXVlcnlTZWxlY3RvcignI3RpbWVyLWJ1dHRvbicpO1xyXG5cclxuLyogY29uc3RhbnRzICovXHJcbmNvbnN0IERFRkFVTFRfRk9OVDogRm9udCA9ICdzYW5zLXNlcmlmJztcclxuY29uc3QgREVGQVVMVF9DT0xPVVI6IENvbG91ciA9ICdyZWQnO1xyXG5cclxuLyogdGhlbWUgc3RhdGVzICovXHJcbnR5cGUgQ29sb3VyID0gJ3JlZCcgfCAnY3lhbicgfCAndmlvbGV0JztcclxudHlwZSBGb250ID0gJ3NlcmlmJyB8ICdzYW5zLXNlcmlmJyB8ICdtb25vc3BhY2UnO1xyXG5pbnRlcmZhY2UgVGhlbWUge1xyXG5cdGNvbG91cjogQ29sb3VyO1xyXG5cdGZvbnQ6IEZvbnQ7XHJcblx0dXBkYXRlVGhlbWU6IChmb250OiBGb250LCBjb2xvdXI6IENvbG91cikgPT4gdm9pZDtcclxufVxyXG5cclxuY2xhc3MgQXBwVGhlbWUgaW1wbGVtZW50cyBUaGVtZSB7XHJcblx0Y29sb3VyOiBDb2xvdXIgPSBERUZBVUxUX0NPTE9VUjtcclxuXHRmb250OiBGb250ID0gREVGQVVMVF9GT05UO1xyXG5cclxuXHR1cGRhdGVUaGVtZSA9IChmb250OiBGb250LCBjb2xvdXI6IENvbG91cik6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5jb2xvdXIgPSBjb2xvdXI7XHJcblx0XHR0aGlzLmZvbnQgPSBmb250O1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5kYXRhc2V0LmZvbnQgPSBmb250O1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5kYXRhc2V0LnRoZW1lID0gY29sb3VyO1xyXG5cdH07XHJcbn1cclxuXHJcbmNvbnN0IGFwcFRoZW1lOiBUaGVtZSA9IG5ldyBBcHBUaGVtZSgpO1xyXG5cclxuLyogVGltZXIgZnVuY3Rpb25hbGl0eSAqL1xyXG50eXBlIFRpbWVyU3RhdGUgPSAnSU5JVElBTCcgfCAnQ09VTlRJTkcnIHwgJ1BBVVNFRCcgfCAnRU5EJztcclxuXHJcbmNvbnN0IG1pbnV0ZXNUb1NlY29uZHMgPSAobWludXRlczogbnVtYmVyKTogbnVtYmVyID0+IG1pbnV0ZXMgKiA2MDtcclxuXHJcbmNvbnN0IGdldE1pbnV0ZXNGcm9tU2Vjb25kcyA9IChzZWNvbmRzOiBudW1iZXIpOiBudW1iZXIgPT4gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xyXG5cclxuY29uc3QgZ2V0UmVtYWluaW5nU2Vjb25kcyA9IChzZWNvbmRzOiBudW1iZXIpOiBudW1iZXIgPT4gc2Vjb25kcyAlIDYwO1xyXG5cclxuY29uc3QgYWRkTGVhZGluZ1plcm8gPSAodGltZTogbnVtYmVyKTogc3RyaW5nID0+IHtcclxuXHRyZXR1cm4gdGltZSA8IDEwID8gYDAke3RpbWV9YCA6IHRpbWUudG9TdHJpbmcoKTtcclxufTtcclxuXHJcbmNvbnN0IGZvcm1hdFRpbWUgPSAoc2Vjb25kczogbnVtYmVyKTogc3RyaW5nID0+IHtcclxuXHRjb25zdCBtaW51dGVzID0gZ2V0TWludXRlc0Zyb21TZWNvbmRzKHNlY29uZHMpO1xyXG5cdGNvbnN0IHJlbWFpbmluZ1NlY29uZHMgPSBnZXRSZW1haW5pbmdTZWNvbmRzKHNlY29uZHMpO1xyXG5cdHJldHVybiBhZGRMZWFkaW5nWmVybyhtaW51dGVzKSArICc6JyArIGFkZExlYWRpbmdaZXJvKHJlbWFpbmluZ1NlY29uZHMpO1xyXG59O1xyXG5cclxuaW50ZXJmYWNlIFRpbWVyIHtcclxuXHRzdGF0ZTogVGltZXJTdGF0ZTtcclxuXHRzdGFydDogKCkgPT4gdm9pZDtcclxuXHRwYXVzZTogKCkgPT4gdm9pZDtcclxuXHRyZXN0YXJ0OiAoKSA9PiB2b2lkO1xyXG5cdHNldFRpbWU6ICh0aW1lOiBudW1iZXIpID0+IHZvaWQ7XHJcblx0Z2V0VGltZTogKCkgPT4gbnVtYmVyO1xyXG5cdGdldFN0YXRlOiAoKSA9PiBUaW1lclN0YXRlO1xyXG5cdHNldFN0YXRlOiAoc3RhdGU6IFRpbWVyU3RhdGUpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmNsYXNzIFBvbW9kb3JvVGltZXIgaW1wbGVtZW50cyBUaW1lciB7XHJcblx0c3RhdGU6IFRpbWVyU3RhdGUgPSAnSU5JVElBTCc7XHJcblx0cHJpdmF0ZSBjb3VudGluZ1RpbWU6IG51bWJlcjtcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHRpbWU6IG51bWJlciA9IDApIHtcclxuXHRcdHRoaXMuY291bnRpbmdUaW1lID0gdGltZTtcclxuXHR9XHJcblxyXG5cdHN0YXJ0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5zdGF0ZSA9ICdDT1VOVElORyc7XHJcblx0fTtcclxuXHJcblx0cGF1c2UgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnN0YXRlID0gJ1BBVVNFRCc7XHJcblx0fTtcclxuXHJcblx0cmVzdGFydCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuc3RhdGUgPSAnSU5JVElBTCc7XHJcblx0XHR0aGlzLmNvdW50aW5nVGltZSA9IHRoaXMudGltZTtcclxuXHR9O1xyXG5cclxuXHRnZXRUaW1lID0gKCk6IG51bWJlciA9PiB0aGlzLmNvdW50aW5nVGltZTtcclxuXHJcblx0c2V0VGltZSA9ICh0aW1lOiBudW1iZXIpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMudGltZSA9IHRpbWU7XHJcblx0XHR0aGlzLmNvdW50aW5nVGltZSA9IHRpbWU7XHJcblx0fTtcclxuXHJcblx0Z2V0U3RhdGUgPSAoKTogVGltZXJTdGF0ZSA9PiB0aGlzLnN0YXRlO1xyXG5cclxuXHRzZXRTdGF0ZSA9IChzdGF0ZTogVGltZXJTdGF0ZSk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5zdGF0ZSA9IHN0YXRlO1xyXG5cdH07XHJcbn1cclxuXHJcbmNsYXNzIFRpbWVyQ29udHJvbGxlciB7XHJcblx0Y291bnRUaW1lb3V0OiBOb2RlSlMuVGltZW91dDtcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHRpbWVyOiBUaW1lcikge1xyXG5cdFx0dGltZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRpbWVyQWN0aW9uKTtcclxuXHRcdHRpbWVyVGltZS5pbm5lclRleHQgPSBmb3JtYXRUaW1lKHRoaXMudGltZXIuZ2V0VGltZSgpKTtcclxuXHR9XHJcblxyXG5cdHRpbWVyQWN0aW9uID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0c3dpdGNoICh0aGlzLnRpbWVyLmdldFN0YXRlKCkpIHtcclxuXHRcdFx0Y2FzZSAnSU5JVElBTCc6XHJcblx0XHRcdGNhc2UgJ1BBVVNFRCc6XHJcblx0XHRcdFx0dGhpcy50aW1lci5zdGFydCgpO1xyXG5cdFx0XHRcdHRoaXMuY291bnQoKTtcclxuXHRcdFx0XHR0aW1lckJ1dHRvbi5pbm5lclRleHQgPSAncGF1c2UnO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdDT1VOVElORyc6XHJcblx0XHRcdFx0dGhpcy50aW1lci5wYXVzZSgpO1xyXG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aGlzLmNvdW50VGltZW91dCk7XHJcblx0XHRcdFx0dGltZXJCdXR0b24uaW5uZXJUZXh0ID0gJ3N0YXJ0JztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb3VudCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuY291bnRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHRoaXMuc2V0VGltZSh0aGlzLnRpbWVyLmdldFRpbWUoKSAtIDEpO1xyXG5cdFx0XHR0aGlzLmNvdW50KCk7XHJcblx0XHR9LCAxMDAwKTtcclxuXHR9O1xyXG5cclxuXHRzZXRUaW1lID0gKHRpbWU6IG51bWJlcik6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy50aW1lci5zZXRUaW1lKHRpbWUpO1xyXG5cdFx0dGltZXJUaW1lLmlubmVyVGV4dCA9IGZvcm1hdFRpbWUodGhpcy50aW1lci5nZXRUaW1lKCkpO1xyXG5cdH07XHJcbn1cclxuLyogVGltZXIgZnVuY3Rpb25hbGl0eSBlbmQgKi9cclxuXHJcbi8qIEFwcCAqL1xyXG5jbGFzcyBQb21vZG9yb0FwcCB7XHJcblx0cHJpdmF0ZSB0aW1lcjogVGltZXJDb250cm9sbGVyO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdHByaXZhdGUgcG9tb2Rvcm9UaW1lOiBudW1iZXIgPSAyNSxcclxuXHRcdHByaXZhdGUgc2hvcnRCcmVha1RpbWU6IG51bWJlciA9IDUsXHJcblx0XHRwcml2YXRlIGxvbmdCcmVha1RpbWU6IG51bWJlciA9IDE1XHJcblx0KSB7XHJcblx0XHR0aGlzLnRpbWVyID0gbmV3IFRpbWVyQ29udHJvbGxlcihuZXcgUG9tb2Rvcm9UaW1lcihtaW51dGVzVG9TZWNvbmRzKHRoaXMucG9tb2Rvcm9UaW1lKSkpO1xyXG5cdH1cclxuXHJcblx0c2V0VGltZXMgPSAocG9tb2Rvcm86IG51bWJlciwgc2hvcnRCcmVhazogbnVtYmVyLCBsb25nQnJlYWs6IG51bWJlcik6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5wb21vZG9yb1RpbWUgPSBwb21vZG9ybztcclxuXHRcdHRoaXMuc2hvcnRCcmVha1RpbWUgPSBzaG9ydEJyZWFrO1xyXG5cdFx0dGhpcy5sb25nQnJlYWtUaW1lID0gbG9uZ0JyZWFrO1xyXG5cdH07XHJcbn1cclxuY29uc3QgcG9tb2Rvcm9BcHA6IFBvbW9kb3JvQXBwID0gbmV3IFBvbW9kb3JvQXBwKCk7XHJcblxyXG4vKiBtb2RhbCBmdW5jdGlvbnMgKi9cclxuY29uc3Qgb3Blbk1vZGFsID0gKCkgPT4ge1xyXG5cdHNldHRpbmdzTW9kYWwuZGF0YXNldC5vcGVuID0gJ3RydWUnO1xyXG59O1xyXG5cclxuY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IHtcclxuXHRzZXR0aW5nc01vZGFsLmRhdGFzZXQub3BlbiA9ICdmYWxzZSc7XHJcbn07XHJcblxyXG5zZXR0aW5nc1N1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlOiBFdmVudCkgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRjb25zdCBwb21vZG9yb1RpbWUgPSBOdW1iZXIocG9tb2Rvcm9UaW1lSW5wdXQudmFsdWUpO1xyXG5cdGNvbnN0IHNob3J0QnJlYWtUaW1lID0gTnVtYmVyKHNob3J0QnJlYWtUaW1lSW5wdXQudmFsdWUpO1xyXG5cdGNvbnN0IGxvbmdCcmVha1RpbWUgPSBOdW1iZXIobG9uZ0JyZWFrVGltZUlucHV0LnZhbHVlKTtcclxuXHRjb25zdCBjaG9zZW5Gb250OiBGb250ID0gZm9udFJhZGlvQnV0dG9ucy5maW5kKGJ1dHRvbiA9PiBidXR0b24uY2hlY2tlZCkudmFsdWUgYXMgRm9udDtcclxuXHRjb25zdCBjaG9zZW5Db2xvdXI6IENvbG91ciA9IGNvbG91clJhZGlvQnV0dG9ucy5maW5kKGJ1dHRvbiA9PiBidXR0b24uY2hlY2tlZCkudmFsdWUgYXMgQ29sb3VyO1xyXG5cdHBvbW9kb3JvQXBwLnNldFRpbWVzKHBvbW9kb3JvVGltZSwgc2hvcnRCcmVha1RpbWUsIGxvbmdCcmVha1RpbWUpO1xyXG5cdGFwcFRoZW1lLnVwZGF0ZVRoZW1lKGNob3NlbkZvbnQsIGNob3NlbkNvbG91cik7XHJcblx0Y2xvc2VNb2RhbCgpO1xyXG59KTtcclxuXHJcbi8qIG1vZGFsIG9wZW5pbmcgYW5kIGNsb3NpbmcgKi9cclxuc2V0dGluZ3NCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0b3Blbk1vZGFsKCk7XHJcbn0pO1xyXG5cclxuY2xvc2VNb2RhbEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0Y2xvc2VNb2RhbCgpO1xyXG59KTtcclxuLyogbW9kYWwgb3BlbmluZyBhbmQgY2xvc2luZyBlbmQgKi9cclxuIl19
