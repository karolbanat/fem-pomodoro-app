"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey(i.key),i)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var settingsButton=document.querySelector("#settings-button"),settingsModal=document.querySelector("#settings-modal"),closeModalButton=document.querySelector("#close-settings-modal-button"),settingsForm=settingsModal.querySelector("#settings-form"),pomodoroTimeInput=settingsForm.querySelector("#pomodoro-time"),shortBreakTimeInput=settingsForm.querySelector("#short-break-time"),longBreakTimeInput=settingsForm.querySelector("#long-break-time"),fontRadioButtons=Array.from(settingsForm.querySelectorAll('input[type="radio"][name="font"]')),colourRadioButtons=Array.from(settingsForm.querySelectorAll('input[type="radio"][name="colour"]')),settingsSubmit=settingsForm.querySelector('button[type="submit"]'),timer=document.querySelector(".timer"),timeProgressBar=timer.querySelector("#progress-bar"),timerTime=timer.querySelector("#timer-time"),timerButton=timer.querySelector("#timer-button"),DEFAULT_FONT="sans-serif",DEFAULT_COLOUR="red",AppTheme=_createClass(function t(){var o=this;_classCallCheck(this,t),this.colour=DEFAULT_COLOUR,this.font=DEFAULT_FONT,this.updateTheme=function(t,e){o.colour=e,o.font=t,document.body.dataset.font=t,document.body.dataset.theme=e}}),appTheme=new AppTheme,minutesToSeconds=function(t){return 60*t},getMinutesFromSeconds=function(t){return Math.floor(t/60)},getRemainingSeconds=function(t){return t%60},addLeadingZero=function(t){return t<10?"0".concat(t):t.toString()},formatTime=function(t){var e=getMinutesFromSeconds(t),t=getRemainingSeconds(t);return addLeadingZero(e)+":"+addLeadingZero(t)},PomodoroTimer=_createClass(function t(){var e=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;_classCallCheck(this,t),this.time=o,this.state="INITIAL",this.start=function(){e.state="COUNTING"},this.pause=function(){e.state="PAUSED"},this.restart=function(){e.state="END"},this.getTime=function(){return e.time},this.setTime=function(t){e.time=t},this.getState=function(){return e.state},this.setState=function(t){e.state=t}}),TimerController=_createClass(function t(e){var o=this;_classCallCheck(this,t),this.timer=e,this.timerAction=function(){switch(o.timer.getState()){case"INITIAL":case"PAUSED":o.timer.start(),o.count(),timerButton.innerText="pause";break;case"COUNTING":o.timer.pause(),clearTimeout(o.countTimeout),timerButton.innerText="start"}},this.count=function(){o.setTime(o.timer.getTime()-1),o.countTimeout=setTimeout(function(){o.count()},1e3)},this.setTime=function(t){o.timer.setTime(t),timerTime.innerText=formatTime(o.timer.getTime())},timerButton.addEventListener("click",this.timerAction),timerTime.innerText=formatTime(this.timer.getTime())}),PomodoroApp=_createClass(function t(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:25,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:5,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:15;_classCallCheck(this,t),this.pomodoroTime=e,this.shortBreakTime=o,this.longBreakTime=n,this.setTimes=function(t,e,o){i.pomodoroTime=t,i.shortBreakTime=e,i.longBreakTime=o},this.timer=new TimerController(new PomodoroTimer(minutesToSeconds(this.pomodoroTime)))}),pomodoroApp=new PomodoroApp,openModal=function(){settingsModal.dataset.open="true"},closeModal=function(){settingsModal.dataset.open="false"};settingsSubmit.addEventListener("click",function(t){t.preventDefault();var t=Number(pomodoroTimeInput.value),e=Number(shortBreakTimeInput.value),o=Number(longBreakTimeInput.value),i=fontRadioButtons.find(function(t){return t.checked}).value,n=colourRadioButtons.find(function(t){return t.checked}).value;pomodoroApp.setTimes(t,e,o),appTheme.updateTheme(i,n),closeModal()}),settingsButton.addEventListener("click",function(){openModal()}),null!=closeModalButton&&closeModalButton.addEventListener("click",function(){closeModal()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4udHMiXSwibmFtZXMiOlsic2V0dGluZ3NCdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzZXR0aW5nc01vZGFsIiwiY2xvc2VNb2RhbEJ1dHRvbiIsInNldHRpbmdzRm9ybSIsInBvbW9kb3JvVGltZUlucHV0Iiwic2hvcnRCcmVha1RpbWVJbnB1dCIsImxvbmdCcmVha1RpbWVJbnB1dCIsImZvbnRSYWRpb0J1dHRvbnMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29sb3VyUmFkaW9CdXR0b25zIiwic2V0dGluZ3NTdWJtaXQiLCJ0aW1lciIsInRpbWVQcm9ncmVzc0JhciIsInRpbWVyVGltZSIsInRpbWVyQnV0dG9uIiwiREVGQVVMVF9GT05UIiwiREVGQVVMVF9DT0xPVVIiLCJBcHBUaGVtZSIsIl9jcmVhdGVDbGFzcyIsIl90aGlzIiwidGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsImNvbG91ciIsImZvbnQiLCJ1cGRhdGVUaGVtZSIsImJvZHkiLCJkYXRhc2V0IiwidGhlbWUiLCJhcHBUaGVtZSIsIm1pbnV0ZXNUb1NlY29uZHMiLCJtaW51dGVzIiwiZ2V0TWludXRlc0Zyb21TZWNvbmRzIiwic2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsImdldFJlbWFpbmluZ1NlY29uZHMiLCJhZGRMZWFkaW5nWmVybyIsInRpbWUiLCJjb25jYXQiLCJ0b1N0cmluZyIsImZvcm1hdFRpbWUiLCJyZW1haW5pbmdTZWNvbmRzIiwiUG9tb2Rvcm9UaW1lciIsIl90aGlzMiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInN0YXRlIiwic3RhcnQiLCJwYXVzZSIsInJlc3RhcnQiLCJnZXRUaW1lIiwic2V0VGltZSIsImdldFN0YXRlIiwic2V0U3RhdGUiLCJUaW1lckNvbnRyb2xsZXIiLCJfdGhpczMiLCJ0aW1lckFjdGlvbiIsImNvdW50IiwiaW5uZXJUZXh0IiwiY2xlYXJUaW1lb3V0IiwiY291bnRUaW1lb3V0Iiwic2V0VGltZW91dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJQb21vZG9yb0FwcCIsIl90aGlzNCIsInBvbW9kb3JvVGltZSIsInNob3J0QnJlYWtUaW1lIiwibG9uZ0JyZWFrVGltZSIsInNldFRpbWVzIiwicG9tb2Rvcm8iLCJzaG9ydEJyZWFrIiwibG9uZ0JyZWFrIiwicG9tb2Rvcm9BcHAiLCJvcGVuTW9kYWwiLCJvcGVuIiwiY2xvc2VNb2RhbCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIk51bWJlciIsInZhbHVlIiwiY2hvc2VuRm9udCIsImZpbmQiLCJidXR0b24iLCJjaGVja2VkIiwiY2hvc2VuQ29sb3VyIl0sIm1hcHBpbmdzIjoiMmpDQUNBLElBQU1BLGVBQW9DQyxTQUFTQyxjQUFjLGtCQUFrQixFQUM3RUMsY0FBNkJGLFNBQVNDLGNBQWMsaUJBQWlCLEVBQ3JFRSxpQkFBc0NILFNBQVNDLGNBQWMsOEJBQThCLEVBRzNGRyxhQUFnQ0YsY0FBY0QsY0FBYyxnQkFBZ0IsRUFDNUVJLGtCQUFzQ0QsYUFBYUgsY0FBYyxnQkFBZ0IsRUFDakZLLG9CQUF3Q0YsYUFBYUgsY0FBYyxtQkFBbUIsRUFDdEZNLG1CQUF1Q0gsYUFBYUgsY0FBYyxrQkFBa0IsRUFDcEZPLGlCQUE0Q0MsTUFBTUMsS0FDdkROLGFBQWFPLGlCQUFpQixrQ0FBa0MsQ0FBQyxFQUU1REMsbUJBQThDSCxNQUFNQyxLQUN6RE4sYUFBYU8saUJBQWlCLG9DQUFvQyxDQUFDLEVBRTlERSxlQUFvQ1QsYUFBYUgsY0FBYyx1QkFBdUIsRUFHdEZhLE1BQXFCZCxTQUFTQyxjQUFjLFFBQVEsRUFDcERjLGdCQUErQkQsTUFBTWIsY0FBYyxlQUFlLEVBQ2xFZSxVQUF5QkYsTUFBTWIsY0FBYyxhQUFhLEVBQzFEZ0IsWUFBaUNILE1BQU1iLGNBQWMsZUFBZSxFQUdwRWlCLGFBQXFCLGFBQ3JCQyxlQUF5QixNQVd6QkMsU0FBUUMsYUFBZCxTQUFBRCxJQUFBLElBQUFFLEVBQUFDLEtBQUFDLGdCQUFBRCxLQUFBSCxDQUFBLEVBQ0NHLEtBQUFF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WSxFQUM3Q1QsV0FBVSxDQUNYLENBQUMsRUFHRGhGLGVBQWVtRSxpQkFBaUIsUUFBUyxXQUN4Q1csVUFBUyxDQUNWLENBQUMsRUFFRDFFLE1BQUFBLGtCQUFBQSxpQkFBa0IrRCxpQkFBaUIsUUFBUyxXQUMzQ2EsV0FBVSxDQUNYLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBtb2RhbCBhbmQgbW9kYWwgcmVhbHRlZCBlbGVtZW50cyAqL1xyXG5jb25zdCBzZXR0aW5nc0J1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2V0dGluZ3MtYnV0dG9uJyk7XHJcbmNvbnN0IHNldHRpbmdzTW9kYWw6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NldHRpbmdzLW1vZGFsJyk7XHJcbmNvbnN0IGNsb3NlTW9kYWxCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nsb3NlLXNldHRpbmdzLW1vZGFsLWJ1dHRvbicpO1xyXG5cclxuLyogc2V0dGluZ3MgZm9ybSBlbGVtZW50cyAqL1xyXG5jb25zdCBzZXR0aW5nc0Zvcm06IEhUTUxGb3JtRWxlbWVudCA9IHNldHRpbmdzTW9kYWwucXVlcnlTZWxlY3RvcignI3NldHRpbmdzLWZvcm0nKTtcclxuY29uc3QgcG9tb2Rvcm9UaW1lSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBzZXR0aW5nc0Zvcm0ucXVlcnlTZWxlY3RvcignI3BvbW9kb3JvLXRpbWUnKTtcclxuY29uc3Qgc2hvcnRCcmVha1RpbWVJbnB1dDogSFRNTElucHV0RWxlbWVudCA9IHNldHRpbmdzRm9ybS5xdWVyeVNlbGVjdG9yKCcjc2hvcnQtYnJlYWstdGltZScpO1xyXG5jb25zdCBsb25nQnJlYWtUaW1lSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBzZXR0aW5nc0Zvcm0ucXVlcnlTZWxlY3RvcignI2xvbmctYnJlYWstdGltZScpO1xyXG5jb25zdCBmb250UmFkaW9CdXR0b25zOiBBcnJheTxIVE1MSW5wdXRFbGVtZW50PiA9IEFycmF5LmZyb20oXHJcblx0c2V0dGluZ3NGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXVtuYW1lPVwiZm9udFwiXScpXHJcbik7XHJcbmNvbnN0IGNvbG91clJhZGlvQnV0dG9uczogQXJyYXk8SFRNTElucHV0RWxlbWVudD4gPSBBcnJheS5mcm9tKFxyXG5cdHNldHRpbmdzRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl1bbmFtZT1cImNvbG91clwiXScpXHJcbik7XHJcbmNvbnN0IHNldHRpbmdzU3VibWl0OiBIVE1MQnV0dG9uRWxlbWVudCA9IHNldHRpbmdzRm9ybS5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xyXG5cclxuLyogdGltZXIgZWxlbWVudHMgKi9cclxuY29uc3QgdGltZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpbWVyJyk7XHJcbmNvbnN0IHRpbWVQcm9ncmVzc0JhcjogSFRNTEVsZW1lbnQgPSB0aW1lci5xdWVyeVNlbGVjdG9yKCcjcHJvZ3Jlc3MtYmFyJyk7XHJcbmNvbnN0IHRpbWVyVGltZTogSFRNTEVsZW1lbnQgPSB0aW1lci5xdWVyeVNlbGVjdG9yKCcjdGltZXItdGltZScpO1xyXG5jb25zdCB0aW1lckJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSB0aW1lci5xdWVyeVNlbGVjdG9yKCcjdGltZXItYnV0dG9uJyk7XHJcblxyXG4vKiBjb25zdGFudHMgKi9cclxuY29uc3QgREVGQVVMVF9GT05UOiBGb250ID0gJ3NhbnMtc2VyaWYnO1xyXG5jb25zdCBERUZBVUxUX0NPTE9VUjogQ29sb3VyID0gJ3JlZCc7XHJcblxyXG4vKiB0aGVtZSBzdGF0ZXMgKi9cclxudHlwZSBDb2xvdXIgPSAncmVkJyB8ICdjeWFuJyB8ICd2aW9sZXQnO1xyXG50eXBlIEZvbnQgPSAnc2VyaWYnIHwgJ3NhbnMtc2VyaWYnIHwgJ21vbm9zcGFjZSc7XHJcbmludGVyZmFjZSBUaGVtZSB7XHJcblx0Y29sb3VyOiBDb2xvdXI7XHJcblx0Zm9udDogRm9udDtcclxuXHR1cGRhdGVUaGVtZTogKGZvbnQ6IEZvbnQsIGNvbG91cjogQ29sb3VyKSA9PiB2b2lkO1xyXG59XHJcblxyXG5jbGFzcyBBcHBUaGVtZSBpbXBsZW1lbnRzIFRoZW1lIHtcclxuXHRjb2xvdXI6IENvbG91ciA9IERFRkFVTFRfQ09MT1VSO1xyXG5cdGZvbnQ6IEZvbnQgPSBERUZBVUxUX0ZPTlQ7XHJcblxyXG5cdHVwZGF0ZVRoZW1lID0gKGZvbnQ6IEZvbnQsIGNvbG91cjogQ29sb3VyKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLmNvbG91ciA9IGNvbG91cjtcclxuXHRcdHRoaXMuZm9udCA9IGZvbnQ7XHJcblx0XHRkb2N1bWVudC5ib2R5LmRhdGFzZXQuZm9udCA9IGZvbnQ7XHJcblx0XHRkb2N1bWVudC5ib2R5LmRhdGFzZXQudGhlbWUgPSBjb2xvdXI7XHJcblx0fTtcclxufVxyXG5cclxuY29uc3QgYXBwVGhlbWU6IFRoZW1lID0gbmV3IEFwcFRoZW1lKCk7XHJcblxyXG4vKiBUaW1lciBmdW5jdGlvbmFsaXR5ICovXHJcbnR5cGUgVGltZXJTdGF0ZSA9ICdJTklUSUFMJyB8ICdDT1VOVElORycgfCAnUEFVU0VEJyB8ICdFTkQnO1xyXG5cclxuY29uc3QgbWludXRlc1RvU2Vjb25kcyA9IChtaW51dGVzOiBudW1iZXIpOiBudW1iZXIgPT4gbWludXRlcyAqIDYwO1xyXG5cclxuY29uc3QgZ2V0TWludXRlc0Zyb21TZWNvbmRzID0gKHNlY29uZHM6IG51bWJlcik6IG51bWJlciA9PiBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XHJcblxyXG5jb25zdCBnZXRSZW1haW5pbmdTZWNvbmRzID0gKHNlY29uZHM6IG51bWJlcik6IG51bWJlciA9PiBzZWNvbmRzICUgNjA7XHJcblxyXG5jb25zdCBhZGRMZWFkaW5nWmVybyA9ICh0aW1lOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xyXG5cdHJldHVybiB0aW1lIDwgMTAgPyBgMCR7dGltZX1gIDogdGltZS50b1N0cmluZygpO1xyXG59O1xyXG5cclxuY29uc3QgZm9ybWF0VGltZSA9IChzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xyXG5cdGNvbnN0IG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVNlY29uZHMoc2Vjb25kcyk7XHJcblx0Y29uc3QgcmVtYWluaW5nU2Vjb25kcyA9IGdldFJlbWFpbmluZ1NlY29uZHMoc2Vjb25kcyk7XHJcblx0cmV0dXJuIGFkZExlYWRpbmdaZXJvKG1pbnV0ZXMpICsgJzonICsgYWRkTGVhZGluZ1plcm8ocmVtYWluaW5nU2Vjb25kcyk7XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgVGltZXIge1xyXG5cdHN0YXRlOiBUaW1lclN0YXRlO1xyXG5cdHN0YXJ0OiAoKSA9PiB2b2lkO1xyXG5cdHBhdXNlOiAoKSA9PiB2b2lkO1xyXG5cdHJlc3RhcnQ6ICgpID0+IHZvaWQ7XHJcblx0c2V0VGltZTogKHRpbWU6IG51bWJlcikgPT4gdm9pZDtcclxuXHRnZXRUaW1lOiAoKSA9PiBudW1iZXI7XHJcblx0Z2V0U3RhdGU6ICgpID0+IFRpbWVyU3RhdGU7XHJcblx0c2V0U3RhdGU6IChzdGF0ZTogVGltZXJTdGF0ZSkgPT4gdm9pZDtcclxufVxyXG5cclxuY2xhc3MgUG9tb2Rvcm9UaW1lciBpbXBsZW1lbnRzIFRpbWVyIHtcclxuXHRzdGF0ZTogVGltZXJTdGF0ZSA9ICdJTklUSUFMJztcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHRpbWU6IG51bWJlciA9IDApIHt9XHJcblxyXG5cdHN0YXJ0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdFx0dGhpcy5zdGF0ZSA9ICdDT1VOVElORyc7XHJcblx0fTtcclxuXHJcblx0cGF1c2UgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnN0YXRlID0gJ1BBVVNFRCc7XHJcblx0fTtcclxuXHJcblx0cmVzdGFydCA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuc3RhdGUgPSAnRU5EJztcclxuXHR9O1xyXG5cclxuXHRnZXRUaW1lID0gKCk6IG51bWJlciA9PiB0aGlzLnRpbWU7XHJcblxyXG5cdHNldFRpbWUgPSAodGltZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnRpbWUgPSB0aW1lO1xyXG5cdH07XHJcblxyXG5cdGdldFN0YXRlID0gKCk6IFRpbWVyU3RhdGUgPT4gdGhpcy5zdGF0ZTtcclxuXHJcblx0c2V0U3RhdGUgPSAoc3RhdGU6IFRpbWVyU3RhdGUpOiB2b2lkID0+IHtcclxuXHRcdHRoaXMuc3RhdGUgPSBzdGF0ZTtcclxuXHR9O1xyXG59XHJcblxyXG5jbGFzcyBUaW1lckNvbnRyb2xsZXIge1xyXG5cdGNvdW50VGltZW91dDogTm9kZUpTLlRpbWVvdXQ7XHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSB0aW1lcjogVGltZXIpIHtcclxuXHRcdHRpbWVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50aW1lckFjdGlvbik7XHJcblx0XHR0aW1lclRpbWUuaW5uZXJUZXh0ID0gZm9ybWF0VGltZSh0aGlzLnRpbWVyLmdldFRpbWUoKSk7XHJcblx0fVxyXG5cclxuXHR0aW1lckFjdGlvbiA9ICgpOiB2b2lkID0+IHtcclxuXHRcdHN3aXRjaCAodGhpcy50aW1lci5nZXRTdGF0ZSgpKSB7XHJcblx0XHRcdGNhc2UgJ0lOSVRJQUwnOlxyXG5cdFx0XHRjYXNlICdQQVVTRUQnOlxyXG5cdFx0XHRcdHRoaXMudGltZXIuc3RhcnQoKTtcclxuXHRcdFx0XHR0aGlzLmNvdW50KCk7XHJcblx0XHRcdFx0dGltZXJCdXR0b24uaW5uZXJUZXh0ID0gJ3BhdXNlJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnQ09VTlRJTkcnOlxyXG5cdFx0XHRcdHRoaXMudGltZXIucGF1c2UoKTtcclxuXHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy5jb3VudFRpbWVvdXQpO1xyXG5cdFx0XHRcdHRpbWVyQnV0dG9uLmlubmVyVGV4dCA9ICdzdGFydCc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y291bnQgPSAoKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnNldFRpbWUodGhpcy50aW1lci5nZXRUaW1lKCkgLSAxKTtcclxuXHRcdHRoaXMuY291bnRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHRoaXMuY291bnQoKTtcclxuXHRcdH0sIDEwMDApO1xyXG5cdH07XHJcblxyXG5cdHNldFRpbWUgPSAodGltZTogbnVtYmVyKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnRpbWVyLnNldFRpbWUodGltZSk7XHJcblx0XHR0aW1lclRpbWUuaW5uZXJUZXh0ID0gZm9ybWF0VGltZSh0aGlzLnRpbWVyLmdldFRpbWUoKSk7XHJcblx0fTtcclxufVxyXG4vKiBUaW1lciBmdW5jdGlvbmFsaXR5IGVuZCAqL1xyXG5cclxuLyogQXBwICovXHJcbmNsYXNzIFBvbW9kb3JvQXBwIHtcclxuXHRwcml2YXRlIHRpbWVyOiBUaW1lckNvbnRyb2xsZXI7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0cHJpdmF0ZSBwb21vZG9yb1RpbWU6IG51bWJlciA9IDI1LFxyXG5cdFx0cHJpdmF0ZSBzaG9ydEJyZWFrVGltZTogbnVtYmVyID0gNSxcclxuXHRcdHByaXZhdGUgbG9uZ0JyZWFrVGltZTogbnVtYmVyID0gMTVcclxuXHQpIHtcclxuXHRcdHRoaXMudGltZXIgPSBuZXcgVGltZXJDb250cm9sbGVyKG5ldyBQb21vZG9yb1RpbWVyKG1pbnV0ZXNUb1NlY29uZHModGhpcy5wb21vZG9yb1RpbWUpKSk7XHJcblx0fVxyXG5cclxuXHRzZXRUaW1lcyA9IChwb21vZG9ybzogbnVtYmVyLCBzaG9ydEJyZWFrOiBudW1iZXIsIGxvbmdCcmVhazogbnVtYmVyKTogdm9pZCA9PiB7XHJcblx0XHR0aGlzLnBvbW9kb3JvVGltZSA9IHBvbW9kb3JvO1xyXG5cdFx0dGhpcy5zaG9ydEJyZWFrVGltZSA9IHNob3J0QnJlYWs7XHJcblx0XHR0aGlzLmxvbmdCcmVha1RpbWUgPSBsb25nQnJlYWs7XHJcblx0fTtcclxufVxyXG5jb25zdCBwb21vZG9yb0FwcDogUG9tb2Rvcm9BcHAgPSBuZXcgUG9tb2Rvcm9BcHAoKTtcclxuXHJcbi8qIG1vZGFsIGZ1bmN0aW9ucyAqL1xyXG5jb25zdCBvcGVuTW9kYWwgPSAoKSA9PiB7XHJcblx0c2V0dGluZ3NNb2RhbC5kYXRhc2V0Lm9wZW4gPSAndHJ1ZSc7XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZU1vZGFsID0gKCkgPT4ge1xyXG5cdHNldHRpbmdzTW9kYWwuZGF0YXNldC5vcGVuID0gJ2ZhbHNlJztcclxufTtcclxuXHJcbnNldHRpbmdzU3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6IEV2ZW50KSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdGNvbnN0IHBvbW9kb3JvVGltZSA9IE51bWJlcihwb21vZG9yb1RpbWVJbnB1dC52YWx1ZSk7XHJcblx0Y29uc3Qgc2hvcnRCcmVha1RpbWUgPSBOdW1iZXIoc2hvcnRCcmVha1RpbWVJbnB1dC52YWx1ZSk7XHJcblx0Y29uc3QgbG9uZ0JyZWFrVGltZSA9IE51bWJlcihsb25nQnJlYWtUaW1lSW5wdXQudmFsdWUpO1xyXG5cdGNvbnN0IGNob3NlbkZvbnQ6IEZvbnQgPSBmb250UmFkaW9CdXR0b25zLmZpbmQoYnV0dG9uID0+IGJ1dHRvbi5jaGVja2VkKS52YWx1ZSBhcyBGb250O1xyXG5cdGNvbnN0IGNob3NlbkNvbG91cjogQ29sb3VyID0gY29sb3VyUmFkaW9CdXR0b25zLmZpbmQoYnV0dG9uID0+IGJ1dHRvbi5jaGVja2VkKS52YWx1ZSBhcyBDb2xvdXI7XHJcblx0cG9tb2Rvcm9BcHAuc2V0VGltZXMocG9tb2Rvcm9UaW1lLCBzaG9ydEJyZWFrVGltZSwgbG9uZ0JyZWFrVGltZSk7XHJcblx0YXBwVGhlbWUudXBkYXRlVGhlbWUoY2hvc2VuRm9udCwgY2hvc2VuQ29sb3VyKTtcclxuXHRjbG9zZU1vZGFsKCk7XHJcbn0pO1xyXG5cclxuLyogbW9kYWwgb3BlbmluZyBhbmQgY2xvc2luZyAqL1xyXG5zZXR0aW5nc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRvcGVuTW9kYWwoKTtcclxufSk7XHJcblxyXG5jbG9zZU1vZGFsQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRjbG9zZU1vZGFsKCk7XHJcbn0pO1xyXG4vKiBtb2RhbCBvcGVuaW5nIGFuZCBjbG9zaW5nIGVuZCAqL1xyXG4iXX0=
